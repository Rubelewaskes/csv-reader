# Обработчки CSV-файлов
Скрипт для обработки CSV-файла, поддерживающий операции:
- фильтрацию с операторами «больше», «меньше» и «равно»;
- агрегацию с расчетом среднего (avg), минимального (min) и максимального (max) значений.

## Структура
- main.py - содержит скрипт;
- phones.csv - файл, использовавшийся для примера;
- handler/handler.py - класс-координатор включает все необходимые для реализации скрипта методы;
- handler/modules - вспомогательные классы, реализующие конкретный функционал: чтение, фильтрацию, агрегацию и вывод;
- tests - юнит-тесты для каждого модуля (кроме вывода).

## Запуск
python main.py --file="path/to/file.csv" [--where="условие"] [--aggregate="операция"]

## Примеры вывода
1. Вывод всей таблицы
```bash
python main.py --file="phones.csv"
```
   Результат:
```text
+------------------+---------+---------+----------+
| name             | brand   |   price |   rating |
+==================+=========+=========+==========+
| iphone 15 pro    | apple   |     999 |      4.9 |
+------------------+---------+---------+----------+
| galaxy s23 ultra | samsung |    1199 |      4.8 |
+------------------+---------+---------+----------+
| redmi note 12    | xiaomi  |     199 |      4.6 |
+------------------+---------+---------+----------+
| iphone 14        | apple   |     799 |      4.7 |
+------------------+---------+---------+----------+
| galaxy a54       | samsung |     349 |      4.2 |
+------------------+---------+---------+----------+
| poco x5 pro      | xiaomi  |     299 |      4.4 |
+------------------+---------+---------+----------+
| iphone se        | apple   |     429 |      4.1 |
+------------------+---------+---------+----------+
| galaxy z flip 5  | samsung |     999 |      4.6 |
+------------------+---------+---------+----------+
| redmi 10c        | xiaomi  |     149 |      4.1 |
+------------------+---------+---------+----------+
| iphone 13 mini   | apple   |     599 |      4.5 |
+------------------+---------+---------+----------+
```

2. Фильтрация
```bash
python main.py --file="phones.csv" --where="brand=apple"
```
  Результат:
```text
+----------------+---------+---------+----------+
| name           | brand   |   price |   rating |
+================+=========+=========+==========+
| iphone 15 pro  | apple   |     999 |      4.9 |
+----------------+---------+---------+----------+
| iphone 14      | apple   |     799 |      4.7 |
+----------------+---------+---------+----------+
| iphone se      | apple   |     429 |      4.1 |
+----------------+---------+---------+----------+
| iphone 13 mini | apple   |     599 |      4.5 |
+----------------+---------+---------+----------+
```

3. Агрегирование
```bash
python main.py --file="phones.csv" --aggregate="price=min"
```
  Результат:
```text
+-------+
|   min |
+=======+
|   149 |
+-------+
```

4. Фильтрация и агрегирование
```bash
python main.py --file="phones.csv" --where="brand=apple" --aggregate="price=avg"
```
  Результат
```text
+-------+
|   avg |
+=======+
| 706.5 |
+-------+
```
